.hero {
  display: flex;
  gap: 2rem;
  align-items: center;
  justify-content: space-between;
  padding: 3rem 1.25rem;
  max-width: 1100px;
  margin: 0 auto;
  position: relative;
}

.entered { opacity: 1; transform: none; transition: opacity 520ms ease, transform 520ms cubic-bezier(.2,.9,.3,1); }
.hero:not(.entered) { opacity: 0; transform: translateY(8px); }

.content {
  flex: 1 1 50%;
}

.title {
  font-size: 2rem;
  margin: 0 0 0.5rem 0;
  font-weight: 600;
}

.lead {
  margin: 0 0 1.25rem 0;
  color: #444;
  line-height: 1.45;
}

.steps {
  list-style: none;
  padding: 0;
  margin: 0 0 1rem 0;
  display: flex;
  gap: 0.75rem;
}

.steps li {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 0.6rem;
  border-radius: 8px;
  background: #f7f7f7;
  color: #666;
  font-size: 0.95rem;
}

.steps li {
  transform-origin: left center;
  /* prefer color/background transitions for the step highlight (no microinteraction) */
  transition: background 360ms ease, color 360ms ease, box-shadow 360ms ease, opacity 260ms ease;
}

.stepEnter { opacity: 1; }
.steps li:not(.stepEnter) { opacity: 0; transform: translateX(-8px); }

.stepActive {
  /* strong, clear color highlight for the active step (no scale/microinteraction) */
  background: linear-gradient(90deg,#dff9ef,#e6fff2);
  color: #043a2c;
  border: 1px solid rgba(11,107,79,0.08);
  box-shadow: 0 8px 20px rgba(11,107,79,0.06);
}

.stepIndex {
  width: 1.6rem;
  height: 1.6rem;
  display: inline-grid;
  place-items: center;
  border-radius: 50%;
  background: #fff;
  border: 1px solid #e6e6e6;
  font-weight: 600;
}

/* when its parent list item is active, make the index use the accent color */
.stepActive .stepIndex {
  background: #0b6b4f;
  color: #fff;
  border: none;
  box-shadow: 0 6px 18px rgba(11,107,79,0.12);
}

.stepText {
  min-width: 8rem;
}

.actions {
  margin-top: 1rem;
  display: flex;
  gap: 1rem;
  align-items: center;
}

.scanButton {
  background: #0b6b4f;
  color: white;
  padding: 0.45rem 0.7rem;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.scanButton:active { transform: translateY(1px); }

.result {
  background: #f0fff9;
  color: #0b6b4f;
  padding: 0.45rem 0.75rem;
  border-radius: 8px;
  font-size: 0.95rem;
}

.device {
  width: 320px;
  flex: 0 0 320px;
}

.deviceEnter { transform: translateY(0); opacity: 1; transition: transform 700ms cubic-bezier(.2,.9,.3,1), opacity 700ms }
.device:not(.deviceEnter) { transform: translateY(8px); opacity: 0 }

.phone {
  border-radius: 18px;
  padding: 12px;
  background: linear-gradient(180deg,#fff,#fafafa);
  border: 1px solid #e6e6e6;
  box-shadow: 0 6px 24px rgba(12,12,12,0.06);
}

.cameraStub {
  width: 40px;
  height: 6px;
  background: #e6e6e6;
  border-radius: 6px;
  margin: 0 auto 10px auto;
}

.screen {
  width: 280px;
  height: 420px;
  background: #fff;
  border-radius: 12px;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

.deco {
  position: absolute;
  left: -40px;
  top: -24px;
  width: 240px;
  height: 240px;
  opacity: 0.06;
  transform: rotate(-6deg);
  pointer-events: none;
}

.barcode {
  width: 76%;
  height: 40%;
  background: repeating-linear-gradient(
    to right,
    #111 0 6px,
    #fff 6px 10px
  );
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.02);
  border-radius: 2px;
}

.scanLine {
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, rgba(11,107,79,0.0), rgba(11,107,79,0.55), rgba(11,107,79,0.0));
  top: -10%;
  transform: translateY(-100%);
  opacity: 0;
}

.scanning {
  animation: sweep 2.2s linear infinite;
  opacity: 1;
}

/* flying barcode (softened) */
.flyingBarcode {
  position: absolute;
  left: 50%;
  top: 18%;
  /* ensure barcode never exceeds phone width so it can't visually exit to the right */
  width: min(220px, 86%);
  max-width: calc(100% - 24px);
  height: auto;
  pointer-events: none;
  filter: drop-shadow(0 8px 26px rgba(11,107,79,0.08));
  transform-origin: center;
  /* softer fly-in: a bit slower, gentler easing */
  animation: flyIn 1800ms cubic-bezier(.22,.8,.28,1) forwards;
  z-index: 3;
}

@keyframes flyIn {
  /* start well to the left, approach gently and settle centered without overshooting */
  0% { transform: translateX(-220px) translateY(0) rotate(-1deg) scale(0.98); opacity: 0 }
  60% { transform: translateX(-70px) translateY(-3px) rotate(0deg) scale(1.01); opacity: 1 }
  90% { transform: translateX(-52%) translateY(-1px) rotate(0deg) scale(1.005); opacity: 1 }
  100% { transform: translateX(-50%) translateY(0) rotate(0deg) scale(1); opacity: 1 }
}

/* red horizontal line aligned with the codebar (appears during fly-in) */
.codebarLine {
  position: absolute;
  left: 50%;
    /* sit noticeably higher than center for better alignment with product art */
    top: 32%;
    transform: translateX(-50%);
    /* make the line much wider (extends past edges and is clipped by .screen) for visual weight */
    width: 196%;
    /* increase thickness for stronger presence */
    height: 8px;
  background: linear-gradient(90deg, rgba(255,0,0,0) 0%, rgba(220,20,60,0.98) 50%, rgba(255,0,0,0) 100%);
  border-radius: 2px;
  pointer-events: none;
  opacity: 1.0; /* visible from the start */
  box-shadow: 0 6px 18px rgba(220,20,60,0.12);
  z-index: 2;
}

.codebarActive {
  animation: codebarGlow 900ms ease-in-out forwards;
}

@keyframes codebarGlow {
  0% { opacity: 0; transform: translateX(-50%) scaleX(0.85); box-shadow: 0 2px 6px rgba(220,20,60,0.06); }
  60% { opacity: 1; transform: translateX(-50%) scaleX(1); box-shadow: 0 8px 22px rgba(220,20,60,0.14); }
  100% { opacity: 1; transform: translateX(-50%) scaleX(1); box-shadow: 0 6px 18px rgba(220,20,60,0.12); }
}

/* hide the red line during processing/loading */
.codebarHidden {
  opacity: 0 !important;
  transform: translateX(-50%) scaleX(0.9) !important;
  box-shadow: none !important;
  transition: opacity 160ms ease, transform 200ms ease;
}

/* processing loader inside screen */
.processing { position: absolute; inset: 0; display:flex; align-items:center; justify-content:center; pointer-events:none }
.loader { width: 56px; height: 56px; border-radius: 50%; border: 6px solid rgba(11,107,79,0.12); border-top-color: #0b6b4f; animation: spin 1200ms linear infinite }
@keyframes spin { to { transform: rotate(360deg) } }

@keyframes sweep {
  0% { transform: translateY(-10%); }
  50% { transform: translateY(60%); }
  100% { transform: translateY(130%); }
}

.phoneScan { box-shadow: 0 18px 56px rgba(11,107,79,0.12); transform: translateY(-4px); transition: transform 220ms, box-shadow 220ms; }

/* soft glow that follows scan */
.screen::after { content: '' ; position: absolute; inset: 0; pointer-events: none; border-radius: 12px; box-shadow: inset 0 0 0 0 rgba(11,107,79,0.0); transition: box-shadow 360ms; }
.phoneScan .screen::after { box-shadow: inset 0 0 34px rgba(11,107,79,0.045); }

/* animated scan line behavior: appears during scanning and processing */
.scanLine { transition: opacity 260ms ease, transform 420ms cubic-bezier(.2,.9,.3,1); }
.scanning { animation: sweep 2.2s linear infinite; opacity: 1; height: 3px; filter: drop-shadow(0 6px 10px rgba(11,107,79,0.08)); }

/* overlay reveal */
.overlay { transform: translateY(6px); opacity: 0; transition: transform 600ms cubic-bezier(.2,.9,.3,1), opacity 600ms; }
.deviceEnter .overlay, .overlay.show { transform: translateY(0); opacity: 1 }

/* product image pop tweak */
.productImage { transition: transform 600ms cubic-bezier(.2,.9,.3,1), box-shadow 600ms }
.productImage:hover { transform: translateX(-50%) scale(1.02) }

/* step entry scale */
.stepActive { transform: scale(1.02); transition: transform 300ms cubic-bezier(.2,.9,.3,1) }
.stepEnter { transform-origin: left center; }

/* reduce motion */
@media (prefers-reduced-motion: reduce) {
  .flyingBarcode, .loader, .scanning, .productImage, .overlay, .hero.entered { animation: none !important; transition: none !important }
}

@keyframes floaty {
  0% { transform: translateY(0) }
  50% { transform: translateY(-6px) }
  100% { transform: translateY(0) }
}

.floatingLeaf { position: absolute; right: 8px; top: 8px; opacity: 0.85; transform-origin: center; animation: floaty 3500ms ease-in-out infinite; pointer-events: none }

.overlay {
  position: absolute;
  bottom: 12px;
  left: 12px;
  right: 12px;
  padding: 0.5rem;
  background: rgba(0,0,0,0.75);
  color: white;
  border-radius: 8px;
  font-size: 0.95rem;
  text-align: center;
}

/* product artwork shown inside the phone after scanning */
.productImage {
  position: absolute;
  left: 50%;
  bottom: 24%;
  width: 78%; /* increased size */
  height: auto;
  transform: translateX(-50%) scale(1);
  border-radius: 8px;
  animation: popIn 600ms cubic-bezier(.2,.9,.3,1) forwards;
  pointer-events: none;
}

@media (max-width: 860px) {
  .productImage { width: 72%; bottom: 20%; }
}

/* ensure product artwork has same background as phone screen */
.productImage {
  background: #fff; /* same as .screen background */
  padding: 8px;
  box-sizing: border-box;
}

@keyframes popIn {
  from { transform: translateX(-50%) translateY(12px) scale(0.92); opacity: 0 }
  to { transform: translateX(-50%) translateY(0) scale(1); opacity: 1 }
}

.result { background: linear-gradient(90deg,#ecfff2,#f0fff9); color: #043a2c; padding: 0.5rem 0.75rem; border-radius: 10px; font-weight: 700; transform-origin: left center; animation: reveal 600ms cubic-bezier(.2,.9,.3,1); }

@keyframes reveal { from { transform: translateY(6px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }

@media (max-width: 860px) {
  .hero { flex-direction: column; gap: 1.25rem; padding: 2rem 1rem; }
  .device { width: 280px; flex: 0 0 auto; }
  .screen { height: 360px; }
}

.solutions {
  margin: 3.5rem auto 2.5rem auto;
  padding: 2.75rem 1rem;
  max-width: 1100px;
}
.solutionsInner { background: linear-gradient(180deg,#fff,#fbfffb); padding: 1.25rem; border-radius: 12px; box-shadow: 0 8px 30px rgba(10,10,10,0.03)}
.solutionsTitle { margin: 0 0 0.5rem 0; font-size: 1.25rem; color: #0b6b4f }
.solutionsLead { margin: 0 0 1rem 0; color: #556; }
.solutionGrid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.card {
  background: linear-gradient(180deg,#ffffff,#fcfffb);
  border-radius: 14px;
  padding: 1.15rem;
  display:flex;
  flex-direction:column;
  gap:0.6rem;
  min-height: 170px;
  border: 1px solid rgba(11,107,79,0.04);
  transition: transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 220ms;
}
.card:hover,
.card:focus-within {
  transform: translateY(-6px);
  box-shadow: 0 12px 40px rgba(11,107,79,0.08);
}
.icon {
  width:52px;
  height:52px;
  display:inline-grid;
  place-items:center;
  border-radius:12px;
  background: linear-gradient(180deg,#e8fff3,#dff9ef);
  color:#0b6b4f;
  font-size:20px;
  box-shadow: 0 6px 18px rgba(11,107,79,0.04);
  transition: transform 200ms;
}
.card:hover .icon { transform: scale(1.06) }
.cardTitle { margin:0; font-size:1.04rem; color:#044a36; font-weight:700 }
.cardDesc { margin:0; color:#465; font-size:0.96rem; line-height:1.4 }
.cardCta {
  margin-top:auto;
  display:inline-flex;
  align-items:center;
  gap:0.4rem;
  padding:0.36rem 0.64rem;
  border-radius:10px;
  background:#0b6b4f;
  color:white;
  text-decoration:none;
  font-weight:700;
  transition: transform 160ms, box-shadow 160ms, background 160ms;
  align-self: flex-start; /* prevent stretching */
  white-space: nowrap;
  font-size: 0.95rem;
}
.cardCta:hover,
.cardCta:focus {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(11,107,79,0.12);
  background: #08523b;
}
.cardCta:focus-visible { outline: 3px solid rgba(11,107,79,0.12); outline-offset: 3px }

@media (max-width:820px) {
  .solutionGrid { grid-template-columns: 1fr }
}

.problem {
  padding: 4rem 1rem; /* increased vertical space */
  position: relative;
  z-index: 40; /* raised so visuals layer above nearby sections */
  overflow: visible; /* allow visuals to extend outside */
}
.problemInner { max-width: 1100px; margin: 0 auto; padding-top: 0.5rem; padding-bottom: 1rem }
.problemGrid { display: grid; grid-template-columns: 1fr 460px; gap: 1.5rem; align-items: center }
.problemTitle { margin: 0 0 0.5rem 0; font-size: 1.25rem; color: #043a2c }
.problemLead { margin: 0 0 1rem 0; color: #556 }
.pointTiles { display: grid; grid-template-columns: repeat(1, minmax(0,1fr)); gap: 0.75rem }
.tile { display:flex; gap:0.85rem; align-items:flex-start; background: transparent; padding:0.25rem 0 }
.tileIcon { width:48px; height:48px; display:inline-grid; place-items:center; border-radius:12px; background: linear-gradient(180deg,#d8ffdf,#c9f5df); color:#0a5f42; font-size:20px; box-shadow: 0 10px 28px rgba(11,107,79,0.09); border: 1px solid rgba(11,107,79,0.03) }
.tileBody { display:flex; flex-direction:column }
.tileTitle { font-weight:700; color:#053; font-size:0.98rem }
.tileSub { color:#5a6a60; font-size:0.92rem }
.problemVisual { width:100%; height:320px; border-radius:14px; overflow:visible; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#f6fff8,#ffffff); padding-right: 26px }

.visualGrid { display:flex; gap:18px; align-items:center; justify-content:center; padding: 16px }
.vcard { width: 140px; height: 140px; border-radius: 12px; box-shadow: 0 14px 46px rgba(11,107,79,0.09) }
.visualStack { display:flex; flex-direction:column; gap:22px; align-items:center; justify-content:center; padding: 12px }
.visualItem { width: 320px; max-width: 100%; height: 120px; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#fff,#edfef3); border-radius:12px; border:1px solid rgba(11,107,79,0.08); box-shadow: 0 12px 40px rgba(11,107,79,0.09) }

/* subtle pulse under barcode when scanning */
.scanning ~ .barcode { box-shadow: 0 8px 30px rgba(11,107,79,0.06) inset }

.visualItem { transition: transform 420ms cubic-bezier(.2,.9,.3,1), box-shadow 420ms }
.visualItem:hover { transform: translateY(-6px) scale(1.02); box-shadow: 0 24px 64px rgba(11,107,79,0.12) }

@media (max-width:1200px) {
  .problemGrid { grid-template-columns: 1fr 380px }
  .visualItem { width: 260px; height: 110px }
}

@media (max-width:960px) {
  .problemGrid { grid-template-columns: 1fr }
  .visualStack { flex-direction:row; gap:12px }
  .visualItem { width: 120px; height: 90px }
  .problemVisual { height: 180px }
}

@media (max-width:960px) {
  .problemGrid { grid-template-columns: 1fr; }
  .problemVisual { height: 200px }
}
